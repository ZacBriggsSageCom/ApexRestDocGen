public class CanEditObjectiveRule implements ValidationRule {

    private String tmId;

    public CanEditObjectiveRule(String tmId) {
        this.tmId = tmId;
    }

    public Boolean isValid() {
        Viewport viewport;

        try {
            viewport = new Viewport(tmId);
        } catch (Exception e) {
            return false;
        }

        return viewport.isTeamMember() || viewport.isManager();
    }

    public ErrorModel createErrorModel() {
        return new ErrorModel(HttpUtils.STATUS_FORBIDDEN, Label.Objective_Edit_Denied, '');
    }

}
